#!/bin/bash

emulator="$(\
    find "$GAMES" -mindepth 1 -maxdepth 1 -type d -printf "%f\n" |
    dmenu -i -l 20)"

[[ $emulator ]] || exit 1

game="$(\
    find "$GAMES/$emulator" -type f -printf "%f\n" |
    dmenu -i -l 20)"

[[ $game ]] || exit 1

case "$emulator" in
    megadrive)
        ;;
    n64)
        ;;
    nes)
        ;;
    snes)
        bsnes "$GAMES/$emulator/$game"
        ;;
    zxspectrum)
        ;;
    *)
        echo "Invalid emulator"
        ;;
esac
